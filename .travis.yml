sudo: required
language: node_js
branches:
  only:
  - "/^v\\d+\\.\\d+(\\.\\d+)?(-\\S*)?$/"
script:
- yarn -s test:lint
- yarn -s test:jest
- yarn -s test:codecov
deploy:
  provider: script
  skip_cleanup: true
  script: yarn -s lambda:deploy
  on:
    tags: true
env:
  global:
  - secure: sQl3BU7eDaJmuDadKZaXzT7/6d2OMX4Iv16Oj7cbiUpl1LeWDJRM3uBoORE2KCkqzGZRQcwUkAEmYUNHIWJckxqoP4WM8jqlgTO+43+epdyBf09Rctke6j2Am7pZunvnHMkXQRJy+KZnturFKWng1T9NYOB9CDKeCmYWROSgbrdZKD1gKTCH1D6JDITM5jHdRP9/slmYoORZDfZRDfzTH61bVMM5+BMBq+mneZ3jObUuX3HQAZvKoW94H1MNnRn3F91T5sdrJT/t1tNWaLBedN/nrMZCiCS66yTcXuob/9/aSKQ20QYZU1/ESX01SUz6EioKP+n8AMyi0xd4kyHh1+wEjl3ilDpUSaX0uBfqqZOhWKqaNuQVDjm3w/eP5Hw6RciojEEIFYh2Sg69VMjvvzQty8pgoxTIaUbImHQGa/tpBxzt3r0wufMx4lyjOnmtGUeg9RA6ZbumtMZL8NU8y+625u0cmh6F+iE7IBFV3LcWZjM/rkxIvzDvX0VgWJR5ysp5hZ1VOkU0UlY4tXBwlHBQ2ZiAWGNKon8zEt0ivBruhsELOBu0/Wrl6f1gkZxqmrsgSvNVM0fcANSRfLAky0EkDmF01OHYLIU3ZHXX0dTWU2eqIJX+YpDZ+vxHaXpvLmiQ0H5dcPGvmUhk3MV/Zkmj5oOao8jLe/QfxUtN3wM=
  - secure: Kuec3qfu0QLE3CoI27yERChOw6cWiPsM6X9/Jj/tEhSr/AWxRq+GAVHcPct7nPPUBge/+Xr2IZTft5aY73SQIuCNO5yqUnjgf9xgMdzIvBPfUuAZ/vlOC2iMqwoYigHjXIoZQF5CrWLhKhg9mCUDUvUMaPEhB1UyxhE20iO+bAl//yt6tO8bJPS22RxvVxa2ZhD/8vjFwfbBG/5+ssQDGLJ4Jtr9ZjxTXkwcrhkA0xbVxHMfE+8clLXXAoBd8A2iG1RfoAReadf5nD4UShiITo40IuWqHLbBxc66D4Yofpj87+xoyZ1z1gR7oy1nnOcPyzNqRY4/WitEGTiFhzdT0w3MZFo1CBtGcXyxrLUUiD9XEC7YFE4K6+GBW9bLNCwVwmW9fw5LAhdCqRO8OuvHqDbQHRwWtaJPgVl26pi5Hxkuu5K07mQMAayt2MTsirDugK7N9RUL4y6rKmu1Wj+JPb8YOvHYGLNIrAoK5Zxld1FJHwOB6RXQ7nRhw76N4eSDavt/QHjU2ezDRQ082b6DMu7+qdZf9+uA6sR756nR+owINwdJQSZn07ZT5DP9jlzVfnOwxyK601W4Ofe7fDSJg1Mv6o1fSPZ+14gRbE07p8uCXqbO5CTIYzifsuShD6535wz0aJFt8EC9IKP/G+gKYsCRE8VxzlsMeKkc1v8xwmo=
  - secure: Zpckc3jYQNxXZo0Q4B/FJfFJHF1Jc0zrp82xzI730vwMncfOwiwK5vijF/GOXsrGUh9K7EkEufiK1plKlzmVDk4klfXJci+amP+ZaQDQj90S5rv0kf5DVlZtoiRLT5WPV0zmJfgS2+kp1XwIQ+iHvZPwBFZzsorYTomZOmuh5MFtIi9kr2CzzaxtMYUXKjKuR7N+gJ7qxURqrbeuZBLtkXHRKppBP4oZnn6po6mWuK76FWVyrWhzxdWdWvkMEGKprTilXm1c3xoL6cp0gAtykzSFVbwJYFFfDfmPv84F/DN6MIv4ShGLOW1PKUiyYz3zg5k/T+3jwuztwNHaE/mvJ8Yxl3gb7uiNuhYkdEV3F1N8ZPvdg+DyqXCR0VZS6WoTMXeEARKTonbrzRBGR5XrGGK8RokCb6Sw6ueCUraTM+vfay0iD1BB+L6EvbbmqUfvaBB3brT65VOtlOPID85QHlvMg7bKzkQnGTl/m9UKO1erfm5zS9qC/gxirldq82e+BrvzTNmFKMkQdadfQkOcN7V1y3htCp/uu3Sq5ilOkpywWwQf9Wmy+BCyM2gjcwiSQ0cSi52hNZwbE2FuOBbw/6uPGlQgk24sJUie3HbdGqXyiT+kAD1semWuG/NFP908eeDoVlHtS3F1Ibkxif9VDxa5l08y9u/gG4xmYaEjKqw=
  - secure: hIySxNjo42hnImdXLyQEO+pLPCf4UDrtbFexOBEcTFgIsaWGaI+nuzRBv1AX8inlMatavzjvBdqZkkTDMw7ojK/PbhvkHBCt/38mPn1Zozka4NxieCGlZ8hOxIIWu3rRvCRp81K/urxf+6Bv1j5frM30CJYp3M/yGfySNLmB/ziMsIaoPqVWXtDCx6TUTIoBOmKQYKBl1K4CADAAXfjHFJbKaIqT/xs0sfJ/srUfxHTrhyvQ9ylpftKnVuOiMzOTP7fzNna4RTyvHjLE9Olsf9JL19JCDg9CZr/RWLVjVagwZIiC/yfj2XZzVKjBOkRfqzucLg06wk5sv29b+U7AX9DEV1jfQ1s2XpuUpVk7ON3BUJ2j2Vo2TQBfXiFJz9T+l6k67wSi8+W08ObKNRm/gVTB6JE9aVhcmB+QQo9CfHH2WtJq6qnykU1kBp8D/b5db7K6pdGVL0sMhGbRaZxiicS3kAWxg/LLAFEq9QlUszTzKzXQvr+Uvn9IaIMwbRSm7jcH4kYyl48inhxfYHTmi4lKNiBtkuuhjRpX/HVbfYTW5b9GNG+zapXydeN8BOdcBhCDzxkT11mFwW3uZizfg1BPhVKe4KHTeEF8qNiggDrgDkO7Z0xYGU1AzHThm325+WYqKqdtZfMqDEBaPVT4HlSFP6Qn9tmM0PvFCTtmH1E=
